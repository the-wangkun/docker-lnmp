; PHP基础配置
expose_php = Off
memory_limit = 128M
post_max_size = 20M
max_execution_time = 600
max_input_time = 600
upload_max_filesize = 20M
date.timezone = Asia/Shanghai
default_charset = "UTF-8"
# error_reporting = E_ALL & ~E_NOTICE & ~E_WARNING
error_reporting = E_ERROR
display_errors = On
log_errors = On
error_log = /var/log/php/php-error.log
session.save_path = /tmp
session.gc_maxlifetime = 1440
cgi.fix_pathinfo = 0
short_open_tag = On

; Xdebug配置（仅配参数，不手动加载扩展！docker-php-ext-enable已自动加载）
xdebug.remote_enable = 1
xdebug.remote_autostart = 1
xdebug.remote_connect_back = 0 
xdebug.remote_host = 192.168.50.104
xdebug.remote_port = 9003
xdebug.remote_handler = dbgp
xdebug.remote_mode = req
xdebug.idekey = PHPSTORM
xdebug.log = /var/log/xdebug/xdebug.log
xdebug.log_level = 7

[opcache]
opcache.enable=0          # 仍开启OPCache（保留性能）
opcache.enable_cli=0     # CLI模式也开启（适配命令行调试）
opcache.memory_consumption=64  # 开发环境分配64MB足够
opcache.max_accelerated_files=2000  # 适配开发环境的文件数量
opcache.validate_timestamps=1  # 开启文件修改时间验证（核心）
opcache.revalidate_freq=0      # 0=每次请求都检查文件是否修改（实时生效）
opcache.revalidate_path=1      # 检查文件路径的真实修改状态
opcache.fast_shutdown=1        # 快速关闭（不影响开发）